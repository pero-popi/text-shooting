!function(){"use strict";class t{static damageSound;#t;#e;#s;#i;#o;#n;#h=5;static{t.damageSound=document.getElementById("text-shooting-damage2")}constructor(t,e){this.#t=t,this.#e=e,this.#i=document.createElement("shot-enemy"),this.#i.innerHTML="‚óè",document.body.appendChild(this.#i)}create(){const t=this.#t.getBoundingClientRect();this.#i.style.top=t.top+t.height/2-t.height/2-2+"px",this.#i.style.left=t.left+t.width/2-t.width/2-2+"px",this.#i.classList.add("is-active"),this.#s=this.#e.node.getBoundingClientRect(),this.#o=this.#i.getBoundingClientRect(),this.#n=Math.atan2(this.#s.top-this.#o.top,this.#s.left-this.#o.left),-2!==this.#o.top&&-2!==this.#o.left?this.#r():this.#d()}#r(){if(!this.#i||this.#i.classList.contains("is-hide"))return;const t=this.#i.getBoundingClientRect();this.#i.style.top=t.top+Math.sin(this.#n)*this.#h+"px",this.#i.style.left=t.left+Math.cos(this.#n)*this.#h+"px",this.#a()||requestAnimationFrame(this.#r.bind(this))}#a(){if(!this.#i)return!0;const e=(()=>{const t=this.#i.getBoundingClientRect();return{top:t.top,left:t.left,right:t.left+t.width,bottom:t.top+t.height}})();if(e.top<0||e.top>window.innerHeight||e.left<0||e.left>window.innerWidth)return this.#d(),!0;const s=(()=>{const t=this.#e.node.getBoundingClientRect();return{top:t.top,left:t.left,right:t.left+t.width,bottom:t.top+t.height}})();return e.left<s.right&&e.top<s.bottom&&e.right>s.left&&e.bottom>s.top&&(this.#d(),this.#e.damage(),t.damageSound.pause(),t.damageSound.currentTime=0,t.damageSound.play(),!0)}#d(){this.#i.classList.add("is-hide"),this.#i.innerHTML="",this.#i=null}}var e=t;class s{static attackState=!0;#c=[];#e;#l;#m=!1;constructor(t,e){this.#e=t,this.#l=e,document.querySelectorAll("char").forEach((t=>{this.#c.push(t)}))}create(){this.#m=!0,this.#u()}isStart(){return this.#m}remove(){s.attackState=!1,this.#c.forEach((t=>{t.classList.remove("is-hide")})),document.querySelectorAll("shot-enemy").forEach((t=>{t.classList.add("is-hide")}))}start(){s.attackState=!0,this.#u()}#u(){if(!s.attackState)return;const t=document.querySelectorAll('char[data-target="true"]');if(0===t.length)return void setTimeout((()=>{this.#u()}),this.#l);const i=t[Math.floor(Math.random()*t.length)];if(i.classList.contains("is-hide"))return void this.#u();const o=i.getBoundingClientRect();if(o.top>=0&&o.bottom<=window.innerHeight){i.classList.add("is-fire");const t=new e(i,this.#e);setTimeout((()=>{t.create()}),500)}setTimeout((()=>{this.#u()}),this.#l)}}var i=s;var o=class{#i;#e;#p=100;#g=50;#f=2;#y=1;#v;#L=["üí•","üè•","üÜô","üÜô","üÜô","üÜô"];#b;constructor(t){this.#i=document.createElement("item"),this.#b=document.getElementById("text-shooting-item"),this.#e=t}create(){this.#v=Math.floor(Math.random()*this.#L.length),this.#i.innerHTML=this.#L[this.#v],document.body.appendChild(this.#i),this.#r()}#r(){if(!this.#i)return;this.#p+=this.#f,this.#g+=this.#y;const t=this.#i.clientWidth/2;if((this.#p<0+t||this.#p>window.innerWidth-t)&&(this.#f=-this.#f),(this.#g<0+t||this.#g>window.innerHeight-t)&&(this.#y=-this.#y),this.#i.style.top=this.#g+"px",this.#i.style.left=this.#p+"px",this.#a())return this.#d(),void(0===this.#v?this.#e.addBomber():1===this.#v?this.#e.addLife():this.#e.addType());requestAnimationFrame(this.#r.bind(this))}#a(){if(!this.#i)return!1;const t=(()=>{const t=this.#i.getBoundingClientRect();return{top:t.top,left:t.left,right:t.left+t.width,bottom:t.top+t.height}})(),e=(()=>{const t=this.#e.node.getBoundingClientRect();return{top:t.top,left:t.left,right:t.left+t.width,bottom:t.top+t.height}})();return t.left<e.right&&t.top<e.bottom&&t.right>e.left&&t.bottom>e.top&&(this.#b.pause(),this.#b.currentTime=0,this.#b.play(),!0)}#d(){try{document.body.removeChild(this.#i)}catch(t){console.log(t)}this.#i=null}};var n=class{static life=10;static score=10;static bomber=3;#i;constructor(){this.#i=document.createElement("status");const t=document.createElement("score"),e=document.createElement("point"),s=document.createElement("div");e.appendChild(s);const i=document.createElement("start"),o=document.createElement("div");o.innerHTML="‚ñ∂",i.appendChild(o);const n=document.createElement("reset"),h=document.createElement("div");h.innerHTML="‚ñ†";const r=document.createElement("div");n.appendChild(h),t.appendChild(e),r.appendChild(i),r.appendChild(n),t.appendChild(r);const d=document.createElement("life");d.appendChild(document.createElement("div"));const a=document.createElement("bomber");a.appendChild(document.createElement("div")),this.#i.appendChild(d),this.#i.appendChild(t),this.#i.appendChild(a)}create(){document.body.appendChild(this.#i)}show(){this.#i.querySelector("status point div").innerHTML="SCORE &nbsp;<span>0</span>",this.#i.classList.add("is-show")}hide(){this.#i.classList.remove("is-show")}};class h{static score=0;static damageSound;#c=[];#e;#i;#w=0;#h=5;#v=0;static{h.damageSound=document.getElementById("text-shooting-damage1")}constructor(t,e){this.#e=t,this.#v=e,this.#i=document.createElement("shot-fighter"),this.#i.innerHTML="‚óè",document.body.appendChild(this.#i),document.querySelectorAll('char[data-target="true"]').forEach((t=>{const e=t.getBoundingClientRect();this.#c.push({node:t,top:e.top,left:e.left,right:e.left+e.width,bottom:e.top+e.height})}))}create(){this.#i.style.top=parseInt(this.#e.node.style.top)+this.#e.node.clientHeight/2-this.#i.clientHeight/2-6+"px",this.#i.style.left=parseInt(this.#e.node.style.left)+this.#e.node.clientWidth/2-this.#i.clientWidth/2-6+"px",this.#i.classList.add("is-active"),this.#r()}#r(){this.#i&&(this.#w+=this.#h,1===this.#v?this.#i.style.transform=`translateY(-${this.#w}px)`:2===this.#v?this.#i.style.transform=`translateY(${this.#w}px)`:3===this.#v?this.#i.style.transform=`translateX(-${this.#w}px)`:4===this.#v?this.#i.style.transform=`translateX(${this.#w}px)`:5===this.#v?this.#i.style.transform=`translateY(-${this.#w}px) translateX(-${this.#w/4}px)`:6===this.#v?this.#i.style.transform=`translateY(-${this.#w}px) translateX(${this.#w/4}px)`:7===this.#v?this.#i.style.transform=`translateY(${this.#w}px) translateX(-${this.#w/4}px)`:8===this.#v&&(this.#i.style.transform=`translateY(${this.#w}px) translateX(${this.#w/4}px)`),this.#a()||requestAnimationFrame(this.#r.bind(this)))}#a(){if(!this.#i)return!0;const t=(()=>{const t=this.#i.getBoundingClientRect();return{top:t.top,left:t.left,right:t.left+t.width,bottom:t.top+t.height}})();if(1===this.#v&&t.top<0)return this.#d(),!0;if(2===this.#v&&t.top>window.innerHeight)return this.#d(),!0;if(3===this.#v&&t.left<0)return this.#d(),!0;if(4===this.#v&&t.left>window.innerWidth)return this.#d(),!0;if(5===this.#v&&t.top<0)return this.#d(),!0;if(6===this.#v&&t.top<0)return this.#d(),!0;if(7===this.#v&&t.top>window.innerHeight)return this.#d(),!0;if(8===this.#v&&t.top>window.innerHeight)return this.#d(),!0;for(const e of this.#c)if(!e.node.classList.contains("is-hide")&&t.left<e.right&&t.top<e.bottom&&t.right>e.left&&t.bottom>e.top){e.node.classList.add("is-hide"),e.node.dataset.target=!1,this.#d();const t=document.querySelector("point div span");if(n.score++,h.score++,n.score<99999999999&&(t.innerHTML=n.score.toLocaleString()),h.score>=200){h.score=0;new o(this.#e).create()}return h.damageSound.pause(),h.damageSound.currentTime=0,h.damageSound.play(),!0}return!1}#d(){this.#i.classList.add("is-hide"),this.#i.innerHTML="",this.#i=null}}var r=h;var d=class{#i;#S;#E=0;#C=0;#v=1;#T=100;#k=null;#x=null;#m=!1;#R=!1;#B=!1;#X;#q;#H;constructor(){this.#X=document.getElementById("text-shooting-shot"),this.#q=document.getElementById("text-shooting-bom"),this.#H=document.getElementById("text-shooting-dead"),this.#S={keydown:t=>{"KeyZ"===t.code?this.#u():"KeyX"===t.code&&this.#Y()},keyup:t=>{"KeyZ"===t.code&&this.#A()},mouseover:t=>{this.#I(t)},mousemove:t=>{this.#I(t)},mouseout:()=>{this.#i.classList.add("is-hide")}}}create(t,e){this.#E=t,this.#C=e,this.#i=document.createElement("fighter"),document.body.appendChild(this.#i),this.#N(),this.start(t,e)}start(t,e){this.#E=t,this.#C=e,this.#i.classList.remove("is-hide"),document.body.classList.add("is-active"),document.addEventListener("keydown",this.#S.keydown),document.addEventListener("keyup",this.#S.keyup),document.addEventListener("mouseover",this.#S.mouseover),document.addEventListener("mousemove",this.#S.mousemove),document.addEventListener("mouseout",this.#S.mouseout),this.#i.style.top=this.#C-this.#i.clientWidth/2+"px",this.#i.style.left=this.#E-this.#i.clientHeight/2+"px"}get type(){return this.#v}set type(t){this.#v=t}get node(){return this.#i}damage(){if(this.#i.classList.contains("is-hide"))return;clearTimeout(this.#x),this.#i.classList.add("is-damage");const t=document.querySelector("status");if(t.classList.remove(`is-${n.life}`),n.life--,t.classList.add(`is-${n.life}`),this.#x=setTimeout((()=>{this.#i.classList.remove("is-damage")}),300),n.life<=0){const t=n.score;this.remove();const e=document.createElement("start-text");e.innerHTML=`GAME OVER<br><span>SCORE ${t.toLocaleString()}</span>`,document.body.appendChild(e),this.#H.pause(),this.#H.currentTime=0,this.#H.play()}this.#v>0&&this.#v--}remove(){document.removeEventListener("keydown",this.#S.keydown),document.removeEventListener("keyup",this.#S.keyup),document.removeEventListener("mouseover",this.#S.mouseover),document.removeEventListener("mousemove",this.#S.mousemove),document.removeEventListener("mouseout",this.#S.mouseout),this.#A(),this.#i.classList.add("is-hide"),document.body.classList.remove("is-active"),n.score=0,n.bomber=3,n.life=10,r.score=0,this.#v=1,this.#N();const t=document.querySelector("status");0!==t.classList.length&&(t.classList.remove("is-show"),t.classList.remove("is-0"),t.classList.remove("is-1"),t.classList.remove("is-2"),t.classList.remove("is-3"),t.classList.remove("is-4"),t.classList.remove("is-5"),t.classList.remove("is-6"),t.classList.remove("is-7"),t.classList.remove("is-8"),t.classList.remove("is-9"),t.classList.remove("is-10")),i.attackState=!1}isStart(){return this.#m}addBomber(){n.bomber++,this.#N()}addLife(){const t=document.querySelector("status");t.classList.remove(`is-${n.life}`),n.life++,n.life>10&&(n.life=10),t.classList.add(`is-${n.life}`)}addType(){2!==this.#v&&this.#v++}#I(t){this.#m||(this.#m=!0,document.body.classList.add("is-active"),this.#r()),this.#i.classList.contains("is-hide")&&this.#i.classList.remove("is-hide"),this.#E=t.clientX,this.#C=t.clientY}#r(){this.#i.style.top=this.#C-this.#i.clientWidth/2+"px",this.#i.style.left=this.#E-this.#i.clientHeight/2+"px",requestAnimationFrame(this.#r.bind(this))}#u(){this.#R||(this.#R=!0,this.#M())}#M(){if(!this.#i.classList.contains("is-hide")){if(0===this.#v){new r(this,1).create()}else if(1===this.#v){const t=new r(this,1),e=new r(this,5),s=new r(this,6);t.create(),e.create(),s.create()}else if(2===this.#v){const t=new r(this,1),e=new r(this,2),s=new r(this,5),i=new r(this,6),o=new r(this,7),n=new r(this,8);t.create(),e.create(),s.create(),i.create(),o.create(),n.create()}this.#X.pause(),this.#X.currentTime=0,this.#X.play(),this.#R&&(this.#k=setTimeout((()=>{this.#M()}),this.#T))}}#A(){clearTimeout(this.#k),this.#R=!1}#N(){const t=document.querySelector("status bomber div");t.innerHTML="";let e="";for(let t=0;t<n.bomber;t++)e+="<div>üí•</div>";t.innerHTML=e}#Y(){this.#i.classList.contains("is-hide")||n.bomber<=0||this.#B||(this.#B=!0,n.bomber--,this.#N(),document.body.classList.add("is-bomber"),document.querySelectorAll("shot-enemy").forEach((t=>{t.classList.add("is-hide")})),document.querySelectorAll('char[data-target="true"]').forEach((t=>{t.classList.add("is-hide"),t.dataset.target=!1})),this.#B=!1,this.#q.pause(),this.#q.currentTime=0,this.#q.play(),setTimeout((()=>{document.body.classList.remove("is-bomber")}),500))}};var a=class{#$=["script","style","iframe","canvas","video","audio","textarea","embed","object","select","area","map","input"];create(){this.#W(document.body.childNodes)}remove(){document.querySelectorAll("wrap").forEach((t=>{t.innerHTML=t.innerHTML.replace(/<char(?: .+?)?>/g,"").replace(/<\/char>/g,"")})),document.querySelectorAll("wrap").forEach((t=>{for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.remove()}))}setTarget(){this.#W(document.body.childNodes),document.querySelectorAll("char").forEach((t=>{const e=t.getBoundingClientRect();e.top>=0&&e.bottom<=window.innerHeight&&0!==t.offsetWidth&&0!==t.offsetHeight&&!t.classList.contains("is-hide")?t.dataset.target=!0:t.dataset.target=!1}))}#W(t){t.forEach((t=>{t.tagName?"point"!==t.tagName.toLowerCase()&&"bomber"!==t.tagName.toLowerCase()&&"wrap"!==t.tagName.toLowerCase()&&"char"!==t.tagName.toLowerCase()&&"item"!==t.tagName.toLowerCase()&&"start"!==t.tagName.toLowerCase()&&"reset"!==t.tagName.toLowerCase()&&"start-text"!==t.tagName.toLowerCase()&&this.#j(t):this.#j(t)}))}#j(t){if(-1===this.#$.indexOf(t.nodeName.toLowerCase()))if(1===t.nodeType)this.#W(t.childNodes);else if(3===t.nodeType&&!/^\s*$/.test(t.nodeValue)){const e=document.createElement("wrap");e.innerHTML=this.#K(t.nodeValue),t.parentNode.replaceChild(e,t)}}#K(t){const e=(s=[],t.split("").forEach((t=>{/^\s*$/.test(t)?s.push("&nbsp;"):s.push(`<char>${t}</char>`)})),s.join(""));var s;return(t=>(e.split("&nbsp;").forEach((e=>{t.push(e)})),t.join(" ")))([])}};new class{#F=!0;#k=null;#O;#P;#e;#t;#V;#Z;#_;#E=0;#C=0;#G;constructor(){window.addEventListener("load",(()=>{window._wpemojiSettings&&(window.twemoji=null,window._wpemojiSettings=null),this.#O=new n,this.#O.create(),this.#V=document.querySelector("status reset div"),this.#Z=document.querySelector("status start div"),this.#G=document.getElementById("text-shooting-start"),document.addEventListener("mousemove",(t=>{this.#E=t.clientX,this.#C=t.clientY})),this.#V.addEventListener("click",(()=>{this.#F||(this.#F=!0,this.#O.hide(),this.#e.remove(),this.#t.remove(),this.#P.remove(),document.querySelectorAll("start-text").forEach((t=>{try{document.body.removeChild(t)}catch(t){console.log(t)}})),document.querySelectorAll("item").forEach((t=>{try{document.body.removeChild(t)}catch(t){console.log(t)}})),document.querySelectorAll("shot-fighter").forEach((t=>{try{document.body.removeChild(t)}catch(t){console.log(t)}})),document.querySelectorAll("shot-enemy").forEach((t=>{try{document.body.removeChild(t)}catch(t){console.log(t)}})))})),this.#Z.addEventListener("click",(()=>{this.#F&&(this.#F=!1,this.#_=location.href,this.#P?(this.#P.create(),this.#P.setTarget()):(this.#P=new a,this.#P.create(),this.#P.setTarget()),this.#O.show(),this.#e?this.#e.start(this.#E,this.#C):(this.#e=new d,this.#e.create(this.#E,this.#C)),this.#t?this.#t.start():(this.#t=new i(this.#e,300),this.#t.create()),this.#G.pause(),this.#G.currentTime=0,this.#G.play())})),document.addEventListener("keydown",(t=>{t.shiftKey&&("KeyS"===t.code?this.#Z.click():"KeyR"===t.code&&this.#V.click())})),document.addEventListener("wheel",(()=>{clearTimeout(this.#k),this.#k=setTimeout((()=>{this.#P&&this.#P.setTarget()}),300)})),setInterval((()=>{this.#F||this.#_!==location.href&&this.#V.click()}),1e3),setInterval((()=>{document.querySelectorAll("shot-fighter.is-hide").forEach((t=>{try{document.body.removeChild(t)}catch(t){console.log(t)}})),document.querySelectorAll("shot-enemy.is-hide").forEach((t=>{try{document.body.removeChild(t)}catch(t){console.log(t)}}))}),6e4)}))}}}();